{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst thElements = document.querySelectorAll('th');\nconst trElements = document.querySelectorAll('tr');\nconst thText = [...thElements].map((element) => element.firstChild);\nconst clickCount = {};\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const notification = document.createElement('div');\n\n  notification.classList.add('notification', type);\n  notification.dataset.qa = 'notification';\n  notification.innerHTML = `<h2 class='title'>${title}</h2><p>${description}</p>`;\n\n  notification.style.top = posTop + 'px';\n  notification.style.right = posRight + 'px';\n\n  document.body.appendChild(notification);\n\n  setTimeout(() => {\n    notification.remove();\n  }, 2000);\n};\n\nconst formHTML = document.createElement('form');\n\nformHTML.className = 'new-employee-form';\nformHTML.setAttribute('onsubmit', '{return false;}');\n\nfunction createElement(type, props) {\n  const element = document.createElement(type);\n\n  Object.keys(props).forEach((key) => {\n    if (key === 'dataset') {\n      Object.keys(props[key]).forEach((dataKey) => {\n        return element.setAttribute(`data-${dataKey}`, props[key][dataKey]);\n      });\n    } else {\n      element[key] = props[key];\n    }\n  });\n\n  return element;\n}\n\nconst offices = [\n  { value: 'Tokyo', textContent: 'Tokyo' },\n  { value: 'Singapore', textContent: 'Singapore' },\n  { value: 'London', textContent: 'London' },\n  { value: 'New York', textContent: 'New York' },\n  { value: 'Edinburgh', textContent: 'Edinburgh' },\n  { value: 'San Francisco', textContent: 'San Francisco' },\n];\n\nconst nameLabel = createElement('label', { textContent: 'Name:' });\nconst nameInput = createElement('input', {\n  name: 'Name',\n  dataset: { qa: 'name' },\n  type: 'text',\n  required: true,\n});\n\nnameLabel.appendChild(nameInput);\nformHTML.appendChild(nameLabel);\n\nconst positionLabel = createElement('label', { textContent: 'Position:' });\nconst positionInput = createElement('input', {\n  name: 'Position',\n  dataset: { qa: 'position' },\n  type: 'text',\n  required: true,\n});\n\npositionLabel.appendChild(positionInput);\nformHTML.appendChild(positionLabel);\n\nconst officeLabel = createElement('label', { textContent: 'Office:' });\nconst officeSelect = createElement('select', {\n  name: 'Office',\n  dataset: { qa: 'office' },\n  required: true,\n});\n\noffices.forEach((option) => {\n  const createOption = createElement('option', option);\n\n  officeSelect.appendChild(createOption);\n});\n\nofficeLabel.appendChild(officeSelect);\nformHTML.appendChild(officeLabel);\n\nconst ageLabel = createElement('label', { textContent: 'Age:' });\nconst ageInput = createElement('input', {\n  name: 'Age',\n  dataset: { qa: 'age' },\n  type: 'number',\n  required: true,\n});\n\nageLabel.appendChild(ageInput);\nformHTML.appendChild(ageLabel);\n\nconst salaryLabel = createElement('label', { textContent: 'Salary:' });\nconst salaryInput = createElement('input', {\n  name: 'Salary',\n  dataset: { qa: 'salary' },\n  type: 'number',\n  required: true,\n});\n\nsalaryLabel.appendChild(salaryInput);\nformHTML.appendChild(salaryLabel);\n\nconst formButton = createElement('button', {\n  type: 'submit',\n  textContent: 'Save to table',\n});\n\nformHTML.appendChild(formButton);\n\ntable.insertAdjacentHTML('afterend', formHTML.outerHTML);\n\nconst form = document.querySelector('form');\n\ntable.addEventListener('click', (e) => {\n  const th = e.target.closest('th');\n  const tr = e.target.closest('tr');\n\n  let indexColumn;\n  let rows = [];\n\n  for (const row of table.rows) {\n    rows.push([...row.cells].map((element) => element.innerHTML));\n  }\n\n  if (e.target.tagName === 'TD') {\n    trElements.forEach((element) => element.classList.remove('active'));\n    tr.classList.add('active');\n  }\n\n  if (th) {\n    indexColumn = thText.indexOf(th.firstChild);\n\n    if (!clickCount[indexColumn]) {\n      clickCount[indexColumn] = 0;\n    }\n\n    if (clickCount[indexColumn] === 2) {\n      clickCount[indexColumn] = 0;\n    }\n\n    clickCount[indexColumn]++;\n  } else {\n    return;\n  }\n\n  rows = rows\n    .slice(1, -1)\n    .map((row) => {\n      return row.map((element) => {\n        if (element.includes('$')) {\n          return Number(element.slice(1).replace(',', ''));\n        }\n\n        return +element ? +element : element;\n      });\n    })\n    .sort((a, b) => {\n      if (clickCount[indexColumn] === 1) {\n        if (typeof a[indexColumn] === 'number') {\n          return a[indexColumn] - b[indexColumn];\n        }\n\n        return a[indexColumn].localeCompare(b[indexColumn]);\n      } else {\n        if (typeof a[indexColumn] === 'number') {\n          return b[indexColumn] - a[indexColumn];\n        }\n\n        return b[indexColumn].localeCompare(a[indexColumn]);\n      }\n    })\n    .map((row) => {\n      return row.map((element) => {\n        if (row.indexOf(element) === 4) {\n          return '$' + element.toLocaleString();\n        }\n\n        return String(element);\n      });\n    });\n\n  for (let i = 0; i < rows.length; i++) {\n    for (let cell = 0; cell < table.rows[i + 1].cells.length; cell++) {\n      table.rows[i + 1].cells[cell].innerHTML = rows[i][cell];\n    }\n  }\n});\n\nform.addEventListener('click', (e) => {\n  const button = e.target.closest('button');\n\n  if (!button) {\n    return;\n  }\n\n  button.type = 'submit';\n\n  const formData = new FormData(form);\n  const userData = {};\n\n  for (const [key, value] of formData.entries()) {\n    if (key === 'Salary') {\n      userData[key] = '$' + Number(value).toLocaleString();\n    } else {\n      userData[key] = value;\n    }\n  }\n\n  function validateForm(data) {\n    if (data['Name'].length < 4) {\n      pushNotification(\n        10,\n        10,\n        'Error',\n        'Name value has less than 4 letters.',\n        'error',\n      );\n\n      return false;\n    }\n\n    if (data['Age'] < 18 || data['Age'] > 90) {\n      pushNotification(\n        10,\n        10,\n        'Error',\n        'Age value is less than 18 or more than 90',\n        'error',\n      );\n\n      return false;\n    }\n\n    if (Object.values(data).indexOf('') !== -1) {\n      pushNotification(10, 10, 'Error', 'Field with invalid input', 'error');\n\n      return false;\n    }\n\n    pushNotification(\n      10,\n      10,\n      'Success',\n      'A new employee is successfully added to the table',\n      'success',\n    );\n\n    return true;\n  }\n\n  if (validateForm(userData)) {\n    button.type = 'reset';\n\n    table.rows[table.rows.length - 2].insertAdjacentHTML(\n      'afterend',\n      `<tr><td>${userData['Name']}</td><td>${userData['Position']}</td><td>${userData['Office']}</td><td>${userData['Age']}</td><td>${userData['Salary']}</td></tr>`,\n    );\n  }\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}