function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||r(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}}var n=document.querySelector("table"),a=document.querySelectorAll("th"),o=document.querySelectorAll("tr"),i=e(a).map(function(t){return t.firstChild}),l={},c=function(t,e,r,n,a){var o=document.createElement("div");o.classList.add("notification",a),o.dataset.qa="notification",o.innerHTML="<h2 class='title'>".concat(r,"</h2><p>").concat(n,"</p>"),o.style.top=t+"px",o.style.right=e+"px",document.body.appendChild(o),setTimeout(function(){o.remove()},2e3)},u=document.createElement("form");function d(t,e){var r=document.createElement(t);return Object.keys(e).forEach(function(t){"dataset"===t?Object.keys(e[t]).forEach(function(n){return r.setAttribute("data-".concat(n),e[t][n])}):r[t]=e[t]}),r}u.className="new-employee-form",u.setAttribute("onsubmit","{return false;}");var s=d("label",{textContent:"Name:"}),f=d("input",{name:"Name",dataset:{qa:"name"},type:"text",required:!0});s.appendChild(f),u.appendChild(s);var p=d("label",{textContent:"Position:"}),m=d("input",{name:"Position",dataset:{qa:"position"},type:"text",required:!0});p.appendChild(m),u.appendChild(p);var y=d("label",{textContent:"Office:"}),h=d("select",{name:"Office",dataset:{qa:"office"},required:!0});[{value:"Tokyo",textContent:"Tokyo"},{value:"Singapore",textContent:"Singapore"},{value:"London",textContent:"London"},{value:"New York",textContent:"New York"},{value:"Edinburgh",textContent:"Edinburgh"},{value:"San Francisco",textContent:"San Francisco"}].forEach(function(t){var e=d("option",t);h.appendChild(e)}),y.appendChild(h),u.appendChild(y);var v=d("label",{textContent:"Age:"}),b=d("input",{name:"Age",dataset:{qa:"age"},type:"number",required:!0});v.appendChild(b),u.appendChild(v);var g=d("label",{textContent:"Salary:"}),C=d("input",{name:"Salary",dataset:{qa:"salary"},type:"number",required:!0});g.appendChild(C),u.appendChild(g);var S=d("button",{type:"submit",textContent:"Save to table"});u.appendChild(S),n.insertAdjacentHTML("afterend",u.outerHTML);var x=document.querySelector("form");n.addEventListener("click",function(t){var r=t.target.closest("th"),a=t.target.closest("tr"),c=[],u=!0,d=!1,s=void 0;try{for(var f,p,m=n.rows[Symbol.iterator]();!(u=(p=m.next()).done);u=!0){var y=p.value;c.push(e(y.cells).map(function(t){return t.innerHTML}))}}catch(t){d=!0,s=t}finally{try{u||null==m.return||m.return()}finally{if(d)throw s}}if("TD"===t.target.tagName&&(o.forEach(function(t){return t.classList.remove("active")}),a.classList.add("active")),r){l[f=i.indexOf(r.firstChild)]||(l[f]=0),2===l[f]&&(l[f]=0),l[f]++,c=c.slice(1,-1).map(function(t){return t.map(function(t){return t.includes("$")?Number(t.slice(1).replace(",","")):+t?+t:t})}).sort(function(t,e){return 1===l[f]?"number"==typeof t[f]?t[f]-e[f]:t[f].localeCompare(e[f]):"number"==typeof t[f]?e[f]-t[f]:e[f].localeCompare(t[f])}).map(function(t){return t.map(function(e){return 4===t.indexOf(e)?"$"+e.toLocaleString():String(e)})});for(var h=0;h<c.length;h++)for(var v=0;v<n.rows[h+1].cells.length;v++)n.rows[h+1].cells[v].innerHTML=c[h][v]}}),x.addEventListener("click",function(t){var e=t.target.closest("button");if(e){e.type="submit";var a=new FormData(x),o={},i=!0,l=!1,u=void 0;try{for(var d,s=a.entries()[Symbol.iterator]();!(i=(d=s.next()).done);i=!0){var f,p=(f=d.value,function(t){if(Array.isArray(t))return t}(f)||function(t,e){var r,n,a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var o=[],i=!0,l=!1;try{for(a=a.call(t);!(i=(r=a.next()).done)&&(o.push(r.value),2!==o.length);i=!0);}catch(t){l=!0,n=t}finally{try{i||null==a.return||a.return()}finally{if(l)throw n}}return o}}(f,2)||r(f,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],y=p[1];"Salary"===m?o[m]="$"+Number(y).toLocaleString():o[m]=y}}catch(t){l=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(l)throw u}}(o.Name.length<4?(c(10,10,"Error","Name value has less than 4 letters.","error"),1):o.Age<18||o.Age>90?(c(10,10,"Error","Age value is less than 18 or more than 90","error"),1):-1!==Object.values(o).indexOf("")?(c(10,10,"Error","Field with invalid input","error"),1):(c(10,10,"Success","A new employee is successfully added to the table","success"),0))||(e.type="reset",n.rows[n.rows.length-2].insertAdjacentHTML("afterend","<tr><td>".concat(o.Name,"</td><td>").concat(o.Position,"</td><td>").concat(o.Office,"</td><td>").concat(o.Age,"</td><td>").concat(o.Salary,"</td></tr>")))}});
//# sourceMappingURL=index.2d2aa841.js.map
